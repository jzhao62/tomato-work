(this["webpackJsonptomato-work"]=this["webpackJsonptomato-work"]||[]).push([[5],{781:function(t,e,a){},784:function(t,e,a){"use strict";a.r(e);var n=a(12),c=a(1),s=a(0),r=(a(781),a(16)),i=a.n(r),l=a(117),d=a(56),u=a(15);e.default=function(){var t=Object(s.useRef)(null),e=Object(s.useState)([]),a=Object(n.a)(e,2),r=a[0],o=a[1],b=Object(s.useState)([{title:"",dataIndex:"hasRead",width:12,className:"unread-row",render:function(t){return!t&&Object(c.jsx)("i",{className:"unread-dot",children:"\u25cf"})}},{title:"\u6807\u9898\u5185\u5bb9",dataIndex:"content"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createdAt",width:150},{title:"\u7c7b\u578b",dataIndex:"title",width:130}]),j=Object(n.a)(b,1)[0],f=Object(s.useCallback)((function(t){return Object(u.p)(t).then((function(t){return t.data.success&&t.data.data.rows.forEach((function(t){t.createdAt=i()(t.createdAt).format("YYYY-MM-DD HH:mm")})),t}))}),[]),h=Object(s.useCallback)((function(e){var a=r.join();2===e&&(a="all"),Object(u.D)(a).then((function(e){e.data.success&&(o([]),t.current.getTableData())}))}),[r,t,o]);return Object(s.useEffect)((function(){t.current.getTableData()}),[t]),Object(c.jsxs)("div",{className:"inner-message",children:[Object(c.jsx)(l.a,{ref:t,getTableData:f,columns:j,rowSelection:{selectedRowKeys:r,onChange:function(t){return o(t)}}}),Object(c.jsxs)("div",{className:"action-group",children:[Object(c.jsx)(d.a,{onClick:h.bind(null,1),disabled:r.length<=0,children:"\u6807\u8bb0\u5df2\u8bfb"}),Object(c.jsx)(d.a,{onClick:h.bind(null,2),children:"\u5168\u90e8\u5df2\u8bfb"})]})]})}}}]);
//# sourceMappingURL=5.59833546.chunk.js.map