(this["webpackJsonptomato-work"]=this["webpackJsonptomato-work"]||[]).push([[0],{103:function(e,t,a){"use strict";a.d(t,"e",(function(){return n.d})),a.d(t,"c",(function(){return n.b})),a.d(t,"d",(function(){return n.c})),a.d(t,"b",(function(){return n.a})),a.d(t,"a",(function(){return s}));var n=a(116),c=a(93),r=a(15),i=c.a.INFO;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:i,data:e}}function s(){return function(e,t){return t().system.info.nodeVersion?e(o()):Object(r.u)().then((function(t){if(t.data.success){var a=t.data.data;return e(o(a))}return e(o())}))}}},116:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return h}));var n=a(47),c=a(16),r=a.n(c),i=a(92),o=a(93),s=a(57),l=a(15),u=o.b.LOGIN;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createdAt&&(e.createdAt=r()(e.createdAt).format("YYYY-MM-DD")),{type:u,userInfo:e}}function j(e){return function(t){return Object(l.z)(e).then((function(e){if(e.data.success){var a=e.data.data.userInfo;return t(d(a))}return t(d())}))}}function m(){Object(l.A)().finally((function(){for(var e=[s.b.LOGIN_NAME],t=window.localStorage.length,a=[],n=0;n<t;n++){var c=window.localStorage.key(n);a.push(c)}a.forEach((function(t){-1===e.indexOf(t)&&window.localStorage.removeItem(t)})),window.sessionStorage.clear(),window.location.reload(!0)}))}function b(){var e="https://github.com/login/oauth/authorize?response_type=code&redirect_uri=".concat(n.a.github.callbackURL,"&client_id=").concat(n.a.github.clientId);window.location.replace(e)}function h(){var e={};try{e=JSON.parse(window.localStorage.getItem(s.b.USER)),Object(i.isPlainObject)(e)||(e={})}catch(t){}return d(e)}},117:function(e,t,a){"use strict";var n=a(26),c=a(12),r=a(171),i=a(1),o=a(0),s=a.n(o),l=(a(436),a(743)),u=a(48),d=a(56),j=a(742),m=a(771),b=a(772),h=function(e){var t=e.selectedRowKeys,a=e.onDelete,n=e.onAdd,c=a||n,r=t.length<=0;return c?Object(i.jsxs)("div",{className:"table-action-panel",children:[n&&Object(i.jsx)(d.a,{type:"primary",onClick:n,icon:Object(i.jsx)(m.a,{}),children:"\u65b0\u589e"}),a&&Object(i.jsx)(j.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:a,placement:"bottomLeft",okType:"danger",children:Object(i.jsx)(d.a,{type:"primary",danger:!0,disabled:r,icon:Object(i.jsx)(b.a,{}),children:"\u6279\u91cf\u5220\u9664"})})]}):null},f=a(92);var O=function(e,t){var a,n=Object(o.useRef)(e);n.current=e;var c=null!==(a=null===t||void 0===t?void 0:t.wait)&&void 0!==a?a:1e3,r=function(e,t){var a=Object(o.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==a.initialized&&function(e,t){if(e===t)return!0;for(var a in e)if(e[a]!==t[a])return!1;return!0}(a.deps,t)||(a.deps=t,a.obj=e(),a.initialized=!0),a.obj}((function(){return Object(f.debounce)((function(){return n.current.apply(n,arguments)}),c,t)}),[]);return{run:r,cancel:r.cancel,flush:r.flush}},p={tableHeight:0,tableDataSource:[],isLoading:!1,pagination:{pageNo:1,pageSize:50,showSizeChanger:!0,total:0,pageSizeOptions:["30","50","70","100","200"]},selectedRowKeys:[],columns:[]};function x(e){return"\u5171\u6709 ".concat(e," \u6761")}var g=function(e){var t,a=e.getTableData,d=e.onTableChange,j=e.onDelete,m=e.onAdd,b=e.forwardedRef,f=e.columns,g=Object(r.a)(e,["getTableData","onTableChange","onDelete","onAdd","forwardedRef","columns"]),v=j,y=Object(u.a)(p),w=Object(c.a)(y,2),C=w[0],N=w[1],T=O((function(){N({isLoading:!0});var e=b.current,t=e.pageNo,c=e.pageSize;a({pageNo:t-1,pageSize:c}).then((function(e){var t;(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.success)&&N({pagination:Object(n.a)(Object(n.a)({},C.pagination),{},{total:e.data.data.count,pageSize:c}),tableDataSource:e.data.data.rows})})).finally((function(){N({isLoading:!1})}))}),{wait:500,leading:!0}).run;return Object(o.useEffect)((function(){b.current||(b.current={}),b.current.getTableData=T})),Object(o.useEffect)((function(){b.current.pageNo=1,b.current.pageSize=50}),[b]),Object(o.useEffect)((function(){setTimeout((function(){var e=document.querySelector(".ant-table-wrapper");e&&N({tableHeight:e.clientHeight-120})}),0)}),[]),Object(o.useEffect)((function(){Array.isArray(f)&&N({columns:[{title:"\u5e8f\u53f7",width:60,render:function(e,t,a){return a+1},align:"center"}].concat(f)})}),[f]),v&&(t={onChange:function(e){N({selectedRowKeys:e})}}),Object(i.jsxs)(s.a.Fragment,{children:[Object(i.jsx)(h,{selectedRowKeys:C.selectedRowKeys,onDelete:j&&function(){if(!j)return null;var e=C.selectedRowKeys.join(",");j(e).then((function(e){e.data.success&&(N({selectedRowKeys:[]}),T())}))},onAdd:m}),Object(i.jsx)(l.a,Object(n.a)(Object(n.a)({},g),{},{rowKey:"id",loading:C.isLoading,columns:C.columns,dataSource:C.tableDataSource,scroll:{y:C.tableHeight+"px",x:1200},showHeader:C.tableDataSource.length,onChange:function(e,t,a){var c=e.current,r=e.pageSize;N({pagination:Object(n.a)(Object(n.a)({},C.pagination),{},{pageNo:c,pageSize:r})}),b.current.pageNo=c,b.current.pageSize=r,null===d||void 0===d||d(e,t,a),setTimeout((function(){T()}))},rowSelection:t,pagination:Object(n.a)(Object(n.a)({},C.pagination),{},{size:"small",showTotal:x})}))]})},v=s.a.forwardRef((function(e,t){return Object(i.jsx)(g,Object(n.a)(Object(n.a)({},e),{},{forwardedRef:t}))}));t.a=s.a.memo(v)},15:function(e,t,a){"use strict";a.d(t,"y",(function(){return f})),a.d(t,"z",(function(){return O})),a.d(t,"A",(function(){return p})),a.d(t,"I",(function(){return x})),a.d(t,"x",(function(){return g})),a.d(t,"J",(function(){return v})),a.d(t,"u",(function(){return y})),a.d(t,"d",(function(){return w})),a.d(t,"t",(function(){return C})),a.d(t,"j",(function(){return N})),a.d(t,"F",(function(){return T})),a.d(t,"e",(function(){return A})),a.d(t,"v",(function(){return I})),a.d(t,"k",(function(){return k})),a.d(t,"G",(function(){return E})),a.d(t,"o",(function(){return D})),a.d(t,"h",(function(){return M})),a.d(t,"C",(function(){return S})),a.d(t,"b",(function(){return L})),a.d(t,"m",(function(){return F})),a.d(t,"g",(function(){return R})),a.d(t,"B",(function(){return _})),a.d(t,"a",(function(){return Y})),a.d(t,"n",(function(){return q})),a.d(t,"c",(function(){return H})),a.d(t,"q",(function(){return U})),a.d(t,"r",(function(){return z})),a.d(t,"i",(function(){return P})),a.d(t,"E",(function(){return V})),a.d(t,"p",(function(){return G})),a.d(t,"D",(function(){return K})),a.d(t,"f",(function(){return B})),a.d(t,"w",(function(){return W})),a.d(t,"l",(function(){return X})),a.d(t,"H",(function(){return J})),a.d(t,"s",(function(){return Z}));var n=a(140),c=a.n(n),r=a(47),i=a(169),o=a(271),s=a(272),l=a(103),u=!1,d=c.a.CancelToken;function j(e){if(c.a.isCancel(e));else{var t,a,n=e.response;o.a.error({message:"Error Code: ".concat(null!==(t=null===n||void 0===n?void 0:n.status)&&void 0!==t?t:-1),description:null!==(a=null===n||void 0===n?void 0:n.statusText)&&void 0!==a?a:"\u670d\u52a1\u5668\u51fa\u5c0f\u5dee"})}}var m=c.a.create({timeout:6e4,baseURL:r.a.http.baseURL});m.defaults.headers.common.isLoading=!0,m.defaults.headers.common.successAlert=!1,m.defaults.headers.common.errorAlert=!0,Object.setPrototypeOf(m,c.a),m.interceptors.request.use((function(e){var t=e.method,a=e.url,n=i.a.getState().user.userInfo;window.axiosCancelTokenStore.forEach((function(n,c){!1!==e.headers.cancelRequest&&n.url===a&&n.method===t&&(n.cancel(),window.axiosCancelTokenStore.splice(c,1))})),e.headers.token=n.token,e.cancelToken=new d((function(e){window.axiosCancelTokenStore.push({pathname:window.location.pathname,method:t,url:a,cancel:e})}));var c={};if("post"===t||"put"===t)if(e.data instanceof FormData)for(var r in c)e.data.append(r,c[r]);else e.data=Object.assign(c,e.data);return e}),(function(e){return j(e),Promise.reject(e)})),m.interceptors.response.use((function(e){var t,a,n,c=e.config.headers,r=e.data;!r.success&&c.errorAlert&&o.a.error({message:"\u9519\u8bef\u7801: ".concat(null!==(t=r.errorCode)&&void 0!==t?t:-1),description:null!==(a=r.msg)&&void 0!==a?a:"\u670d\u52a1\u5668\u51fa\u5c0f\u5dee"});r.success&&c.successAlert&&s.b.success(null!==(n=r.msg)&&void 0!==n?n:"Success");return 401!==r.errorCode||u||(u=!0,setTimeout(l.d,2e3)),e}),(function(e){return j(e),Promise.reject(e)}));var b=m,h=a(25);function f(e){return b.post(h.a.login,e)}function O(e){return b.get(h.a.loginByToken,{params:{token:e}})}function p(){return b.get(h.a.logout)}function x(e){return b.post(h.a.updateUser,e,{headers:{successAlert:!0}})}function g(){return b.get(h.a.getUserConfig)}function v(e){return b.put(h.a.getUserConfig,e,{headers:{successAlert:!0}})}function y(){return b.get(h.a.getSystemInfo)}function w(e){return b.post(h.a.reminder,e,{headers:{successAlert:!0}})}function C(e){return b.get(h.a.reminder,{params:e})}function N(e){return b.delete("".concat(h.a.reminder,"/").concat(e),{headers:{successAlert:!0}})}function T(e,t){return b.put("".concat(h.a.reminder,"/").concat(e),t,{headers:{successAlert:!0}})}function A(e){return b.post(h.a.todayTask,e,{headers:{successAlert:!0}})}function I(e){return b.get(h.a.todayTask,{params:e})}function k(e){return b.delete("".concat(h.a.todayTask,"/").concat(e))}function E(e,t){return b.put("".concat(h.a.todayTask,"/").concat(e),t)}function D(){return b.get(h.a.capitalFlowType)}function M(e){return b.delete("".concat(h.a.capitalFlowType,"/").concat(e),{headers:{successAlert:!0}})}function S(e,t){return b.put("".concat(h.a.capitalFlowType,"/").concat(e),t,{headers:{successAlert:!0}})}function L(e){return b.post(h.a.capitalFlowType,e,{headers:{successAlert:!0}})}function F(e){return b.get(h.a.capitalFlow,{params:e})}function R(e){return b.delete("".concat(h.a.capitalFlow,"/").concat(e),{headers:{successAlert:!0}})}function _(e,t){return b.put("".concat(h.a.capitalFlow,"/").concat(e),t,{headers:{successAlert:!0}})}function Y(e){return b.post(h.a.capitalFlow,e)}function q(e){return b.get(h.a.getCapitalFlowPrice,{params:e})}function H(e){return b.post(h.a.memorandum,e,{headers:{successAlert:!0}})}function U(e){return b.get(h.a.memorandum,{params:e})}function z(e){return b.get("".concat(h.a.memorandum,"/").concat(e))}function P(e){return b.delete("".concat(h.a.memorandum,"/").concat(e))}function V(e,t){return b.put("".concat(h.a.memorandum,"/").concat(e),t,{headers:{successAlert:!0}})}function G(e){return b.get(h.a.innerMessage,{params:e,headers:{errorAlert:!1,cancelRequest:!1}})}function K(e){return b.put("".concat(h.a.innerMessage,"/").concat(e),null,{headers:{successAlert:!0}})}function B(e){return b.post(h.a.todoList,e,{headers:{successAlert:!0}})}function W(e){return b.get(h.a.todoList,{params:e})}function X(e){return b.delete("".concat(h.a.todoList,"/").concat(e),{headers:{successAlert:!0}})}function J(e,t){return b.put("".concat(h.a.todoList,"/").concat(e),t)}function Z(e){return b.get(h.a.getPanelData,{params:e})}},169:function(e,t,a){"use strict";var n=a(239),c=a(26),r=a(93),i=a(57),o=r.b.LOGIN,s={isLogin:!1,isLockScreen:!1,userInfo:{provider:"",uid:void 0,createdAt:"",bio:"",username:"",password:"",loginName:"",avatarUrl:"",email:"",role:"",token:void 0,location:""}};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var a=t.userInfo;return(null===a||void 0===a?void 0:a.token)&&(e.isLogin=!0,window.localStorage.setItem(i.b.USER,JSON.stringify(a)),window.localStorage.setItem(i.b.LOGIN_NAME,a.loginName)),Object(c.a)(Object(c.a)({},e),{},{userInfo:t.userInfo});default:return e}},u=a(92),d=a.n(u),j=r.a.INFO,m={info:{mysqlVersion:"",currentSystemTime:Date.now(),freemem:0,totalmem:0,platform:"",type:"",hostname:"",arch:"",nodeVersion:"",cpus:[]}};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return d.a.isEmpty(t.data)?e:(t.data.arch=t.data.arch.slice(1),Object(c.a)(Object(c.a)({},e),{},{info:t.data}));default:return e}},h=a(104),f=Object(h.c)({user:l,system:b}),O=Object(h.d)(f,Object(h.a)(n.a));t.a=O},221:function(e,t,a){"use strict";var n=a(26),c=a(1),r=(a(0),a(739));function i(){return!0}t.a=function(e){return Object(c.jsx)(r.a,Object(n.a)(Object(n.a)({},e),{},{onError:i}))}},25:function(e,t,a){"use strict";var n=Object.freeze({getCaptcha:"/api/captcha?code=",login:"/passport/local",loginByToken:"/accessToken",logout:"/logout",getSystemInfo:"/system/info",updateUser:"/user/update",getUserConfig:"/userConfig",reminder:"/reminder",todayTask:"/task",capitalFlowType:"/capitalFlowType",capitalFlow:"/capitalFlow",getCapitalFlowPrice:"/capitalFlow/price",memorandum:"/memorandum",innerMessage:"/innerMessage",todoList:"/todoList",getPanelData:"/panel"});t.a=n},281:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},47:function(e,t,a){"use strict";var n=!0,c={isProduction:n,isDevelopment:false,baseURL:"/",title:"Tomato Work",http:{baseURL:"/api"},github:{clientId:"789d87c19dd5ed1dc42e",callbackURL:"".concat(window.location.origin,"/api/passport/github/callback"),repositoryUrl:"https://github.com/xjh22222228/tomato-work",bug:"https://github.com/xjh22222228/tomato-work/issues"}};t.a=c},473:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return b}));var n={USER:"USER",SIDEBAR_COLLAPSED:"SIDEBAR_COLLAPSED",LOGIN_NAME:"LOGIN_NAME",LOCK_SCREEN:"LOCK_SCREEN"},c=a(1),r=(a(0),a(9)),i=a(754),o=a(755),s=a(756),l=a(757),u=a(758),d=a(759),j=a(760),m=[{path:r.a.HOME_INDEX.path,icon:Object(c.jsx)(i.a,{}),name:r.a.HOME_INDEX.name},{path:r.a.REMINDER.path,icon:Object(c.jsx)(o.a,{}),name:r.a.REMINDER.name},{path:r.a.TODO_LIST.path,icon:Object(c.jsx)(s.a,{}),name:r.a.TODO_LIST.name},{path:r.a.TODAY_TASK.path,icon:Object(c.jsx)(l.a,{}),name:r.a.TODAY_TASK.name},{path:"",icon:Object(c.jsx)(u.a,{}),name:"\u8d22\u52a1\u7ba1\u7406",children:[{path:r.a.CAPITAL_FLOW.path,name:r.a.CAPITAL_FLOW.name},{path:r.a.CAPITAL_FLOW_TYPE.path,name:r.a.CAPITAL_FLOW_TYPE.name}]},{path:r.a.MEMORANDUM.path,icon:Object(c.jsx)(d.a,{}),name:"\u6211\u7684\u5907\u5fd8",children:[{path:r.a.MEMORANDUM.path,name:r.a.MEMORANDUM.name},{path:r.a.MEMORANDUM_CREATE.path[0],name:r.a.MEMORANDUM_CREATE.name}]},{path:r.b.BASE.path,icon:Object(c.jsx)(j.a,{}),name:r.b.BASE.name}],b=[{path:r.b.BASE.path,name:r.b.BASE.name},{path:r.b.INNER_MESSAGE.path,name:r.b.INNER_MESSAGE.name},{path:r.b.NOTIFICATION.path,name:r.b.NOTIFICATION.name},{path:r.b.ACCOUNT.path,name:r.b.ACCOUNT.name}]},730:function(e,t,a){},731:function(e,t,a){},732:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),i=a(41),o=a.n(i),s=(a(281),a(282),function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,783)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))}),l=a(26),u=a(171),d=a(47),j=a(132),m=a.n(j),b=a(50),h=a(59),f=a(9),O=Object(h.b)((function(e){return{isLogin:e.user.isLogin}}))(Object(b.g)((function(e){var t=e.component,a=e.childrenRoutes,r=e.isLogin,i=e.location,o=Object(u.a)(e,["component","childrenRoutes","isLogin","location"]);Array.isArray(window.axiosCancelTokenStore)&&(window.axiosCancelTokenStore.forEach((function(e){e.pathname!==i.pathname&&e.cancel()})),window.axiosCancelTokenStore=[]);var s=o.meta;s&&(s.title?document.title="".concat(s.title," - ").concat(d.a.title):document.title=d.a.title);var j=!(null===s||void 0===s?void 0:s.requiresAuth)||!!r;if((null===s||void 0===s?void 0:s.isLoginToHome)&&r){var h=m.a.parse(i.search).redirectUrl||f.a.HOME_INDEX.path;return Object(n.jsx)(b.a,{to:h})}return Object(n.jsx)(b.b,{render:function(e){return j?Object(n.jsx)(t,Object(l.a)(Object(l.a)(Object(l.a)({},e),o),{},{children:Array.isArray(a)?Object(n.jsx)(b.d,{children:a.map((function(e,t){return Object(c.createElement)(O,Object(l.a)(Object(l.a)({},e),{},{key:t}))}))}):null})):Object(n.jsx)(b.a,{to:{pathname:"/",search:"?redirectUrl=".concat(e.location.pathname)}})}})}))),p=O,x=a(52),g=a.n(x),v=a(64),y=a(12),w=(a(300),a(301),(new Date).getFullYear()),C=function(){return Object(n.jsx)("footer",{className:"global-footer",children:Object(n.jsxs)("div",{children:["Copyright \xa9 2019-",w," ",d.a.title," -",Object(n.jsx)("a",{href:"https://github.com/xjh22222228",target:"_blank",rel:"noopener noreferrer",children:" xiejiahe"})]})})},N=a(196),T=a.n(N),A=a(25),I=a(92),k=a(746),E=a(272),D=a(750),M=a(56),S=a(245),L=a(103),F=a(15),R=a(57),_="qwertyuipasdfghjklxcvbnm13456789";function Y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="",a=0;a<e;a++){var n=Math.floor(Math.random()*_.length);t+=_[n]}return t}function q(e){var t=(new Date).setHours(0,0,0,0);return!(e&&(null===e||void 0===e?void 0:e.valueOf())>t)}var H=a.p+"static/media/logo.974fa5fb.png",U=a(760),z=a(761),P=a(762),V=a(763),G=Object(n.jsxs)("div",{style:{padding:"10px 20px 10px 20px"},children:[Object(n.jsx)("div",{children:"\u672c\u7ad9\u4e0d\u5f00\u653e\u6ce8\u518c\u8d26\u53f7\uff0c\u9996\u6b21\u767b\u9646\u8bf7\u4f7f\u7528GitHub"}),Object(n.jsx)("div",{children:"\u767b\u9646\u540e\u7cfb\u7edf\u5c06\u81ea\u52a8\u6ce8\u518c\u8d26\u53f7, \u5bc6\u7801\u4e3a123456"})]}),K=Y(),B=window.localStorage.getItem(R.b.LOGIN_NAME)||"";function W(e){K=Y();var t=A.a.getCaptcha+K;e.target.src=t}var X,J,Z,Q,$=Object(h.b)()((function(e){var t=e.dispatch,a=e.history,r=e.location,i=k.a.useForm(),o=Object(y.a)(i,1)[0],s=Object(c.useState)(!1),l=Object(y.a)(s,2),u=l[0],j=l[1],b=Object(c.useState)((function(){return m.a.parse(r.search).redirectUrl||f.a.HOME_INDEX.path})),h=Object(y.a)(b,1)[0],O=function(){var e=Object(v.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.validateFields();case 3:n=e.sent,j(!0),Object(F.y)({loginName:n.loginName.trim(),password:T()(n.password.trim()),code:n.code.trim()}).then((function(e){j(!1),e.data.success&&(t(Object(L.e)(e.data.data.userInfo)),a.replace(h))})).catch((function(){j(!1)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=m.a.parse(r.search),n=e.token,c=e.state;0!==Number(c)?n&&t(Object(L.c)(n)).then((function(e){Object(I.isEmpty)(e.userInfo)||a.replace(h)})):E.b.error("\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55")}),[a,r.search,t,h]),Object(c.useEffect)((function(){d.a.isDevelopment&&o.setFieldsValue({loginName:"test",password:"123456"})}),[]),Object(n.jsxs)("section",{className:"login-page",children:[Object(n.jsx)("a",{href:d.a.github.repositoryUrl,target:"_blank",rel:"noopener noreferrer",children:Object(n.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 250 250",className:"svg-wrapper","aria-hidden":"true",children:[Object(n.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(n.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",className:"octo-arm"}),Object(n.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"})]})}),Object(n.jsx)("div",{className:"wrap",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"logo-wrap",children:[Object(n.jsx)("img",{src:H,className:"logo",alt:""}),Object(n.jsx)("em",{children:d.a.title})]}),Object(n.jsxs)(k.a,{form:o,children:[Object(n.jsx)(k.a.Item,{name:"loginName",initialValue:B,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:Object(n.jsx)(D.a,{placeholder:"\u7528\u6237\u540d",prefix:Object(n.jsx)(U.a,{}),maxLength:32,autoComplete:"off",onPressEnter:O})}),Object(n.jsx)(k.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(n.jsx)(D.a,{placeholder:"\u5bc6\u7801",prefix:Object(n.jsx)(z.a,{}),maxLength:32,type:"password",autoComplete:"off",onPressEnter:O})}),Object(n.jsx)(k.a.Item,{name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"},{pattern:/.{4}/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u9a8c\u8bc1\u7801"}],children:Object(n.jsx)(D.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",prefix:Object(n.jsx)(P.a,{}),maxLength:4,autoComplete:"off",onPressEnter:O,suffix:Object(n.jsx)("img",{src:"".concat(A.a.getCaptcha).concat(K),className:"captcha",onClick:W,alt:""})})})]}),Object(n.jsx)(M.a,{type:"primary",style:{marginTop:"20px"},size:"large",loading:u,block:!0,onClick:O,children:u?"\u767b \u5f55 \u4e2d...":"\u767b \u5f55"}),Object(n.jsx)("div",{className:"register",children:Object(n.jsx)(S.a,{content:G,trigger:"hover",placement:"bottomRight",children:Object(n.jsx)("span",{children:"\u6ce8\u518c\u8d26\u53f7"})})}),Object(n.jsx)(M.a,{style:{marginTop:"20px"},size:"large",loading:u,block:!0,icon:Object(n.jsx)(V.a,{}),onClick:function(){j(!0),Object(L.b)()},children:"\u4f7f\u7528 Github \u767b\u5f55"})]})}),Object(n.jsx)(C,{})]})})),ee=(a(423),a(424),a(752)),te={403:{title:"403",subTitle:"Sorry, you are not authorized to access this page."},404:{title:"404",subTitle:"Sorry, the page you visited does not exist."},500:{title:"500",subTitle:"Sorry, the server is wrong."}},ae=Object(b.g)((function(e){var t=e.history,a=e.status,c=void 0===a?"404":a;return Object(n.jsx)(ee.a,Object(l.a)({status:c,extra:Object(n.jsx)(M.a,{type:"primary",onClick:t.goBack,children:"Back"})},te[c]))})),ne=function(){return Object(n.jsx)("div",{className:"exception-wrapper",children:Object(n.jsx)(ae,{})})},ce=(a(427),a(428),a(741)),re=a(111),ie=a(55),oe=ce.a.Sider,se=re.a.SubMenu,le=Object(b.g)((function(e){var t=e.location,a=e.collapsed,r=Object(c.useState)(""),i=Object(y.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)([]),u=Object(y.a)(l,2),j=u[0],m=u[1];return Object(c.useEffect)((function(){var e=t.pathname,a=e.split("/").slice(0,3),n=a.join("/");if(3===a.length)for(var c=0;c<R.a.length;c++){var r=R.a[c];if(Array.isArray(r.children)){var i=r.children.findIndex((function(t){return e===t.path}));if(-1!==i){s(r.children[i].path),m([r.name]);break}}if(-1!==r.path.indexOf(n)){s(r.path);break}}}),[t.pathname]),Object(n.jsxs)(oe,{trigger:null,collapsible:!0,collapsed:a,width:190,className:"sidebar",children:[Object(n.jsx)("div",{className:"sider-menu-logo",children:d.a.title}),Object(n.jsx)(re.a,{selectedKeys:[o],openKeys:j,onOpenChange:function(e){m(e)},mode:"inline",theme:"dark",children:R.a.map((function(e){return Array.isArray(e.children)?Object(n.jsx)(se,{title:Object(n.jsxs)(n.Fragment,{children:[e.icon,Object(n.jsx)("span",{children:e.name})]}),children:e.children.map((function(e){return Object(n.jsx)(re.a.Item,{children:Object(n.jsx)(ie.b,{to:e.path,children:e.name})},e.path)}))},e.name):Object(n.jsx)(re.a.Item,{children:Object(n.jsxs)(ie.b,{to:e.path,children:[e.icon,Object(n.jsx)("span",{children:e.name})]})},e.path)}))})]})})),ue=(a(435),a(221)),de=a(16),je=a.n(de),me=a(89),be=a(753),he=a(116),fe=a(764),Oe=a(765),pe=a(766),xe=a(767),ge=a(768),ve=a(769),ye=a(770),we=ce.a.Header,Ce=[{name:f.b.BASE.name,path:f.b.BASE.path},{name:f.b.NOTIFICATION.name,path:f.b.NOTIFICATION.path},{name:f.b.ACCOUNT.name,path:f.b.ACCOUNT.path}],Ne=Object(n.jsxs)("div",{className:"popover-content",children:[Ce.map((function(e){return Object(n.jsx)(ie.b,{to:e.path,className:"ls",children:e.name},e.name)})),Object(n.jsxs)("div",{className:"ls sign-out",onClick:function(){return Object(he.c)()},children:[Object(n.jsx)(fe.a,{style:{fontSize:"14px",marginRight:"5px"}}),"\u9000\u51fa"]})]}),Te=Object(h.b)((function(e){return{userInfo:e.user.userInfo}}))(Object(b.g)((function(e){var t=e.collapsed,a=e.setCollapsed,r=e.userInfo,i=Object(c.useState)([]),o=Object(y.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(0),j=Object(y.a)(u,2),m=j[0],b=j[1],h=Object(c.useState)(!1),O=Object(y.a)(h,2),p=O[0],x=O[1];Object(c.useEffect)((function(){Object(F.p)({pageSize:5}).then((function(e){if(e.data.success){var t=0,a=e.data.data.rows.map((function(e){return e.createdAt=je()(e.createdAt).format("YYYY-MM-DD HH:mm"),e.hasRead||t++,e}));b(t),l(a)}}))}),[]);var g=Object(c.useMemo)((function(){return Object(n.jsxs)("div",{className:"message-popover",children:[Object(n.jsxs)("div",{className:"msg-header item-block",children:[Object(n.jsx)("span",{className:"left",children:"\u7ad9\u5185\u6d88\u606f\u901a\u77e5"}),Object(n.jsx)(ie.b,{className:"right",to:f.b.NOTIFICATION.path,children:"\u6d88\u606f\u63a5\u6536\u7ba1\u7406"})]}),s.length>0?Object(n.jsxs)(n.Fragment,{children:[s.map((function(e){return Object(n.jsxs)("div",{className:"item-block ls",children:[Object(n.jsx)("div",{className:"content",children:e.content}),Object(n.jsx)("div",{className:"date",children:e.createdAt})]},e.id)})),Object(n.jsx)(ie.b,{className:"item-block ls",to:f.b.INNER_MESSAGE.path,children:"\u67e5\u770b\u66f4\u591a"})]}):Object(n.jsx)(me.a,{style:{padding:"20px 0"}})]})}),[s]);return Object(n.jsxs)(we,{children:[Object(n.jsx)("div",{className:"left",children:t?Object(n.jsx)(Oe.a,{onClick:a,style:{cursor:"pointer",fontSize:"20px"}}):Object(n.jsx)(pe.a,{onClick:a,style:{cursor:"pointer",fontSize:"20px"}})}),Object(n.jsxs)("ul",{className:"right",children:[Object(n.jsx)(S.a,{content:g,children:Object(n.jsx)("li",{children:Object(n.jsx)(be.a,{dot:m>0,children:Object(n.jsx)(xe.a,{})})})}),Object(n.jsx)("li",{onClick:function(){x((function(e){return e?function(){try{var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}catch(t){E.b.warn("\u60a8\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u9000\u51fa\u5168\u5c4f, \u8bf7\u6309ESC")}}():function(){try{var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}catch(t){E.b.warn("\u60a8\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5168\u5c4f")}}(),!e}))},children:p?Object(n.jsx)(ge.a,{}):Object(n.jsx)(ve.a,{})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:d.a.github.bug,target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)(ye.a,{})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:d.a.github.repositoryUrl,target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)(V.a,{})})}),Object(n.jsx)(S.a,{placement:"bottomRight",content:Ne,children:Object(n.jsxs)("li",{children:[Object(n.jsx)(ue.a,{src:r.avatarUrl}),Object(n.jsx)("span",{className:"username",children:r.username})]})})]})]})}))),Ae=ce.a.Content,Ie=R.b.SIDEBAR_COLLAPSED,ke=Number(window.localStorage.getItem(Ie)||!0),Ee=Object(h.b)((function(e){return{userInfo:e.user.userInfo}}))((function(e){var t=Object(c.useState)(!ke),a=Object(y.a)(t,2),i=a[0],o=a[1];return Object(n.jsx)("section",{className:"home-main",children:Object(n.jsxs)(ce.a,{children:[Object(n.jsx)(le,Object(l.a)({},{collapsed:i})),Object(n.jsxs)(ce.a,{className:"home-layout",children:[Object(n.jsx)(Te,Object(l.a)({},{collapsed:i,setCollapsed:function(){o(!i),window.localStorage.setItem(Ie,Number(i)+"")}})),Object(n.jsx)(Ae,{id:"container",children:r.a.Children.map(e.children,(function(e){return e}))})]})]})})})),De=a(117),Me=a(48),Se=a(749),Le=a(744),Fe=D.a.TextArea,Re="YYYY-MM-DD HH:mm:ss",_e={confirmLoading:!1},Ye=function(e){var t=e.visible,a=e.rowData,r=e.onCancel,i=e.onSuccess,o=k.a.useForm(),s=Object(y.a)(o,1)[0],l=Object(Me.a)(_e),u=Object(y.a)(l,2),d=u[0],j=u[1];function m(){return(m=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.validateFields();case 3:t=e.sent,n={date:t.date.format(Re),content:t.content.trim()},j({confirmLoading:!0}),(a?Object(F.F)(a.id,n):Object(F.d)(n)).then((function(e){e.data.success&&i(e)})).finally((function(){j({confirmLoading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t||s.resetFields(),t&&a&&s.setFieldsValue({date:je()(a.createdAt),content:a.content})}),[t,a]),Object(n.jsx)(Se.a,{title:"\u65b0\u589e",visible:t,onOk:function(){return m.apply(this,arguments)},onCancel:r,confirmLoading:d.confirmLoading,forceRender:!0,children:Object(n.jsxs)(k.a,{form:s,children:[Object(n.jsx)(k.a.Item,{name:"date",label:"\u63d0\u9192\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}],children:Object(n.jsx)(Le.a,{showTime:!0,allowClear:!1,disabledDate:q,style:{width:"100%"}})}),Object(n.jsx)(k.a.Item,{name:"content",label:"\u63d0\u9192\u5185\u5bb9",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u63d0\u9192\u5185\u5bb9"}],children:Object(n.jsx)(Fe,{rows:3,maxLength:200,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})})]})})},qe=r.a.memo(Ye),He=a(139),Ue=a(273),ze=a(742),Pe=Le.a.RangePicker,Ve=He.a.Option,Ge="YYYY-MM-DD",Ke={1:{color:"#f50",text:"\u5f85\u63d0\u9192"},2:{color:"#87d068",text:"\u5df2\u63d0\u9192"}},Be={showCreateModal:!1,currentRow:null},We=Object(h.b)((function(e){return{userInfo:e.user.userInfo}}))((function(e){var t=e.userInfo,a=k.a.useForm(),r=Object(y.a)(a,1)[0],i=Object(Me.a)(Be),o=Object(y.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)(),d=[{title:"\u72b6\u6001",dataIndex:"type",width:100,render:function(e){return Object(n.jsx)(Ue.a,{color:Ke[e].color,children:Ke[e].text})}},{title:"\u63d0\u9192\u65f6\u95f4",dataIndex:"createdAt",width:220},{title:"\u63d0\u9192\u5185\u5bb9",dataIndex:"content",className:"wbba wpr"},{title:"\u64cd\u4f5c",width:180,align:"right",fixed:"right",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{onClick:m.bind(null,0,e),children:"\u7f16\u8f91"}),Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:m.bind(null,1,e),placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{children:"\u5220\u9664"})})]})}}],j=function(){var e,t=je()().startOf("year"),a=je()().endOf("year");r.setFieldsValue({queryType:"",date:[t,a]}),null===u||void 0===u||null===(e=u.current)||void 0===e||e.getTableData()};function m(e,t){0===e?l({showCreateModal:!0,currentRow:t}):Object(F.j)(t.id).then((function(e){e.data.success&&u.current.getTableData()}))}return Object(c.useEffect)((function(){j(),t.email||Se.a.warning({title:"\u672a\u68c0\u6d4b\u5230\u60a8\u7684\u90ae\u7bb1",content:Object(n.jsxs)(n.Fragment,{children:["\u8bf7\u5c06\u60a8\u7684GitHub\u90ae\u7bb1\u8bbe\u4e3a\u516c\u5f00\uff0c\u5426\u5219\u5f71\u54cd\u672c\u529f\u80fd\u7684\u4f7f\u7528\uff0c",Object(n.jsx)("a",{href:"https://github.com/settings/profile",target:"_blank",rel:"noopener noreferrer",children:"\u524d\u5f80\u8bbe\u7f6e"})]})})}),[t.email]),Object(n.jsxs)("div",{className:"reminder",children:[Object(n.jsx)("div",{className:"query-panel",children:Object(n.jsxs)(k.a,{form:r,layout:"inline",onValuesChange:function(){var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.getTableData()},children:[Object(n.jsx)(k.a.Item,{name:"queryType",label:"\u67e5\u8be2\u7c7b\u578b",initialValue:"",children:Object(n.jsxs)(He.a,{children:[Object(n.jsx)(Ve,{value:"",children:"\u5168\u90e8"}),Object(n.jsx)(Ve,{value:"1",children:"\u5f85\u63d0\u9192"}),Object(n.jsx)(Ve,{value:"2",children:"\u5df2\u63d0\u9192"})]})}),Object(n.jsx)(k.a.Item,{name:"date",label:"\u65e5\u671f",children:Object(n.jsx)(Pe,{allowClear:!0})}),Object(n.jsxs)(k.a.Item,{children:[Object(n.jsx)(M.a,{type:"primary",onClick:function(){return u.current.getTableData()},children:"\u67e5\u8be2"}),Object(n.jsx)(M.a,{onClick:j,children:"\u91cd\u7f6e"})]})]})}),Object(n.jsx)(De.a,{ref:u,getTableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.getFieldsValue();return t.date&&2===t.date.length&&(e.startDate=t.date[0].format(Ge),e.endDate=t.date[1].format(Ge)),""!==t.queryType&&(e.type=t.queryType),Object(F.t)(e).then((function(e){return e.data.success&&(e.data.data.rows=e.data.data.rows.map((function(e,t){return e.order=t+1,e.createdAt=je()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"),e}))),e}))},columns:d,onDelete:F.j,onAdd:function(){return l({showCreateModal:!0,currentRow:null})}}),Object(n.jsx)(qe,{visible:s.showCreateModal,rowData:s.currentRow,onCancel:function(){return l({showCreateModal:!1})},onSuccess:function(){l({showCreateModal:!1}),u.current.getTableData()}})]})})),Xe=(a(460),ce.a.Content),Je=ce.a.Sider,Ze=function(e){var t=e.location,a=Object(c.useState)(""),r=Object(y.a)(a,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){for(var e=0;e<R.c.length;e++)if(R.c[e].path===t.pathname){o(R.c[e].path);break}}),[t.pathname]),Object(n.jsxs)(ce.a,{className:"setting-page",children:[Object(n.jsx)(Je,{width:170,children:Object(n.jsx)(re.a,{mode:"inline",selectedKeys:[i],style:{height:"100%"},children:R.c.map((function(e){return Object(n.jsx)(re.a.Item,{children:Object(n.jsx)(ie.b,{to:e.path,children:e.name})},e.path)}))})}),Object(n.jsx)(Xe,{style:{padding:"0 50px 0 30px"},children:Object(n.jsx)(c.Suspense,{fallback:null,children:Object(n.jsx)(b.d,{children:Ca.map((function(e,t){return Object(c.createElement)(p,Object(l.a)(Object(l.a)({},e),{},{key:t}))}))})})})]})},Qe=(a(461),a(126)),$e=a(80),et=a(747),tt=a(773),at=a(774),nt=a(775),ct=a(776),rt=function(){var e=Object(c.useRef)(!1),t=Object(c.useState)([{title:"\u4eca\u65e5\u652f\u51fa",total:0,Icon:Object(n.jsx)(tt.a,{className:"icon"}),suffix:"\uffe5",path:f.a.CAPITAL_FLOW.path},{title:"\u4eca\u65e5\u5f85\u529e",total:0,Icon:Object(n.jsx)(at.a,{className:"icon"}),path:f.a.TODAY_TASK.path},{title:"\u6d3b\u52a8\u6e05\u5355",total:0,Icon:Object(n.jsx)(nt.a,{className:"icon"}),path:f.a.TODO_LIST.path},{title:"\u63d0\u9192\u4e8b\u9879",total:0,Icon:Object(n.jsx)(ct.a,{className:"icon"}),path:f.a.REMINDER.path}]),a=Object(y.a)(t,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){e.current||(e.current=!0,Object(F.s)().then((function(e){if(e.data.success){var t=r.slice();t[0].total=e.data.data.consumption,t[1].total=e.data.data.todayTaskCount,t[2].total=e.data.data.unfinishedTodoListCount,t[3].total=e.data.data.reminderCount,i(t)}})))}),[r]),Object(n.jsx)(Qe.a,{gutter:{xs:8,sm:16,md:24},className:"panel-group",children:r.map((function(e){return Object(n.jsx)($e.a,{xl:6,lg:12,md:12,sm:24,xs:24,children:Object(n.jsxs)(ie.b,{to:e.path,className:"block-item",children:[e.Icon,Object(n.jsx)("div",{className:"data",children:Object(n.jsx)(et.a,{title:e.title,value:e.total,suffix:e.suffix})})]})},e.title)}))})},it=r.a.memo(rt),ot=(a(473),a(192)),st=a.n(ot),lt=a(745),ut=a(748),dt=function(e){var t,a=e.systemInfo,r=Object(c.useState)(""),i=Object(y.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)([]),u=Object(y.a)(l,2),j=u[0],m=u[1],b=Object(c.useState)(!0),h=Object(y.a)(b,2),f=h[0],O=h[1],p=Object(c.useMemo)((function(){return e=a.totalmem,t=a.freemem,Math.floor((e-t)/e*100);var e,t}),[a.totalmem,a.freemem]),x=Object(c.useCallback)((function(){clearTimeout(X);var e=a.currentSystemTime+(Date.now()-a.currentSystemTime);s(je()(e).format("YYYY-MM-DD HH:mm:ss")),X=setTimeout((function(){x()}),1e3)}),[a.currentSystemTime]);return Object(c.useEffect)((function(){return x(),function(){clearTimeout(X)}}),[x]),Object(c.useEffect)((function(){Object(F.p)({pageSize:5}).then((function(e){e.data.success&&(O(!1),m(e.data.data.rows))}))}),[]),Object(n.jsxs)(Qe.a,{gutter:{xs:8,sm:16,md:24},className:"system-data",children:[Object(n.jsx)($e.a,{xl:8,lg:12,md:12,sm:24,xs:24,children:Object(n.jsxs)(lt.a,{title:"\u7cfb\u7edf\u53c2\u6570",hoverable:!0,loading:!a.nodeVersion,children:[Object(n.jsxs)("p",{className:"item-text",children:[Object(n.jsx)("em",{children:"\u7cfb\u7edf\u7c7b\u578b\uff1a"}),a.platform,a.arch]}),Object(n.jsxs)("p",{className:"item-text",children:[Object(n.jsx)("em",{children:"Node\u7248\u672c\uff1a"}),a.nodeVersion]}),Object(n.jsxs)("p",{className:"item-text",children:[Object(n.jsx)("em",{children:"MySQL\u7248\u672c\uff1a"}),a.mysqlVersion]}),Object(n.jsxs)("p",{className:"item-text",children:[Object(n.jsx)("em",{children:"\u5f53\u524d\u73af\u5883\uff1a"}),d.a.isProduction?"\u751f\u4ea7\u73af\u5883":"\u5f00\u53d1\u73af\u5883"]}),Object(n.jsxs)("p",{className:"item-text",children:[Object(n.jsx)("em",{children:"\u7cfb\u7edf\u65f6\u95f4\uff1a"}),o]})]})}),Object(n.jsx)($e.a,{xl:8,lg:12,md:12,sm:24,xs:24,children:Object(n.jsx)(lt.a,{title:"\u6211\u7684\u6d88\u606f",hoverable:!0,loading:f,children:j.length>0?j.map((function(e){return Object(n.jsx)("p",{className:"item-text",children:Object(n.jsx)("em",{children:e.content})},e.id)})):Object(n.jsx)(me.a,{})})}),Object(n.jsx)($e.a,{xl:8,lg:12,md:12,sm:24,xs:24,children:Object(n.jsxs)(lt.a,{title:"\u5185\u5b58\u4f7f\u7528\u7387(".concat(st()(a.totalmem),")"),hoverable:!0,className:"mem",children:[Object(n.jsx)(ut.a,{type:"circle",percent:p,strokeColor:(t=p,t<40?"#52c41a":t<80?"#ffa500":"#f50"),format:function(e){return e+"%"}}),Object(n.jsxs)("div",{className:"surplus",children:["\u5269\u4f59",st()(a.freemem)]})]})})]})},jt=r.a.memo(dt),mt=(a(476),a(112)),bt={date:{range:[0,1]}},ht=function(){var e=Object(c.useState)([]),t=Object(y.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(0),o=Object(y.a)(i,2),s=o[0],l=o[1];return Object(c.useEffect)((function(){Object(F.n)().then((function(e){if(e.data.success){var t=0,a=e.data.data.map((function(e){return e.date=e.date.slice(5),e.price=Number(e.price),t+=e.price,e}));r(a),l(t)}}))}),[]),Object(n.jsxs)("div",{className:"money-access",children:[Object(n.jsx)("h2",{className:"title",children:"\u8fc7\u53bb7\u5929\u8d44\u91d1\u6d41\u52a8"}),s>0?Object(n.jsxs)(mt.Chart,{height:400,data:a,scale:bt,forceFit:!0,children:[Object(n.jsx)(mt.Legend,{}),Object(n.jsx)(mt.Axis,{name:"price",label:{formatter:function(e){return"".concat(parseInt(e),"\uffe5")}}}),Object(n.jsx)(mt.Tooltip,{crosshairs:{type:"y"}}),Object(n.jsx)(mt.Geom,{type:"line",position:"date*price",size:2,color:"name",shape:"smooth"}),Object(n.jsx)(mt.Geom,{type:"point",position:"date*price",size:4,shape:"circle",color:"name",style:{stroke:"#fff",lineWidth:1}})]}):Object(n.jsx)(me.a,{image:me.a.PRESENTED_IMAGE_SIMPLE})]})},ft=r.a.memo(ht),Ot=Object(h.b)((function(e){return{system:e.system}}))((function(e){var t=e.system,a=e.dispatch;return Object(c.useEffect)((function(){a(Object(L.a)())}),[]),Object(n.jsxs)("div",{className:"home-index oya",children:[Object(n.jsx)(it,{}),Object(n.jsx)(jt,{systemInfo:t.info}),Object(n.jsx)(ft,{})]})})),pt=(a(477),a.p+"static/media/no-data.67d4d7c8.svg"),xt=function(e){var t=e.onClick,a=e.message,c=void 0===a?"\u6682\u65e0\u6570\u636e":a;return Object(n.jsx)(ee.a,{className:"no-data",icon:Object(n.jsx)("img",{src:pt,className:"udn",alt:""}),title:c,extra:Object(n.jsx)(M.a,{type:"primary",onClick:t,children:"\u73b0\u5728\u521b\u5efa"}),status:"info",style:{marginTop:"50px"}})},gt=r.a.memo(xt),vt=(a(478),a(751)),yt=function(e){var t=e.data,a=e.reloadData;function c(e){0===e?Object(F.k)(t.id).then((function(e){e.data.success&&a()})):Object(F.G)(t.id,{rollback:2===e&&!0}).then((function(e){e.data.success&&a()}))}return Object(n.jsxs)(lt.a,{title:"\u6211\u7684\u5f85\u529e",hoverable:!0,className:"task-component",children:[Object(n.jsx)("p",{className:"content",children:t.content}),Object(n.jsxs)("div",{className:"level",children:[Object(n.jsx)("span",{children:"\u4f18\u5148\u7ea7\u522b\uff1a"}),Object(n.jsx)(vt.a,{value:t.count,disabled:!0}),Object(n.jsxs)("p",{className:"mt10",children:["\u521b\u5efa\u65f6\u95f4: ",je()(t.createdAt).format("YYYY-MM-DD HH:mm:ss")]})]}),Object(n.jsxs)("div",{className:"button-wrapper",children:[Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:c.bind(null,0),placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{type:"primary",danger:!0,size:"small",children:"\u5220\u9664"})}),1===t.type&&Object(n.jsx)(M.a,{type:"primary",size:"small",onClick:c.bind(null,1),children:"\u5f00\u59cb"}),[2,3].includes(t.type)&&Object(n.jsx)(M.a,{type:"primary",size:"small",onClick:c.bind(null,2),children:"\u56de\u9000"}),2===t.type&&Object(n.jsx)(M.a,{type:"primary",size:"small",onClick:c.bind(null,1),children:"\u5b8c\u6210"})]})]})},wt=r.a.memo(yt),Ct="YYYY-MM-DD HH:mm:ss",Nt=D.a.TextArea,Tt={confirmLoading:!1},At=function(e){var t=e.visible,a=e.onSuccess,c=e.onCancel,i=k.a.useForm(),o=Object(y.a)(i,1)[0],s=Object(Me.a)(Tt),l=Object(y.a)(s,2),u=l[0],d=l[1];function j(){return(j=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.validateFields();case 3:t=e.sent,n={date:t.date.format(Ct),content:t.content.trim(),count:t.count},d({confirmLoading:!0}),Object(F.e)(n).then((function(e){e.data.success&&a()})).finally((function(){d({confirmLoading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return r.a.useEffect((function(){t||o.resetFields()}),[t]),Object(n.jsx)(Se.a,{title:"\u65b0\u589e",visible:t,onOk:function(){return j.apply(this,arguments)},onCancel:c,confirmLoading:u.confirmLoading,forceRender:!0,children:Object(n.jsxs)(k.a,{form:o,children:[Object(n.jsx)(k.a.Item,{label:"\u5f00\u59cb\u65e5\u671f",name:"date",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65e5\u671f"}],children:Object(n.jsx)(Le.a,{allowClear:!1,disabledDate:q,style:{width:"100%"}})}),Object(n.jsx)(k.a.Item,{label:"\u4efb\u52a1\u5185\u5bb9",name:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}],children:Object(n.jsx)(Nt,{rows:3,maxLength:200,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})}),Object(n.jsx)(k.a.Item,{label:"\u4f18\u5148\u7ea7\u522b",name:"count",initialValue:5,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f18\u5148\u7ea7"}],children:Object(n.jsx)(vt.a,{})})]})})},It=r.a.memo(At),kt="YYYY-MM-DD",Et={wait:{text:"\u5f85\u4f5c\u4e1a",color:"orange"},process:{text:"\u4f5c\u4e1a\u4e2d",color:"#108ee9"},finished:{text:"\u5df2\u5b8c\u6210",color:"#87d068"},unfinished:{text:"\u672a\u5b8c\u6210",color:"#f50"}},Dt={data:{wait:[],process:[],finished:[],unfinished:[]},showCreateTaskModal:!1},Mt=function(){var e=k.a.useForm(),t=Object(y.a)(e,1)[0],a=Object(Me.a)(Dt),r=Object(y.a)(a,2),i=r[0],o=r[1];function s(){var e=t.getFieldsValue().startDate.format(kt);Object(F.v)({startDate:e,endDate:e}).then((function(e){e.data.success&&o({data:e.data.data})}))}function l(){t.setFieldsValue({startDate:je()()}),s()}function u(){o({showCreateTaskModal:!i.showCreateTaskModal})}return Object(c.useEffect)((function(){l()}),[]),Object(n.jsxs)("div",{className:"today-task",children:[Object(n.jsx)("div",{className:"query-panel",children:Object(n.jsxs)(k.a,{form:t,layout:"inline",onValuesChange:s,children:[Object(n.jsx)(k.a.Item,{name:"startDate",label:"\u67e5\u8be2\u65e5\u671f",children:Object(n.jsx)(Le.a,{allowClear:!1})}),Object(n.jsxs)(k.a.Item,{children:[Object(n.jsx)(M.a,{type:"primary",onClick:s,children:"\u67e5\u8be2"}),Object(n.jsx)(M.a,{onClick:function(){var e=t.getFieldValue("startDate");t.setFieldsValue({startDate:je()(e.subtract(1,"day").format(kt))}),s()},children:"\u4e0a\u4e00\u5929"}),Object(n.jsx)(M.a,{onClick:function(){var e=t.getFieldValue("startDate");t.setFieldsValue({startDate:je()(e.add(1,"day").format(kt))}),s()},children:"\u4e0b\u4e00\u5929"}),Object(n.jsx)(M.a,{onClick:u,children:"\u65b0\u589e"}),Object(n.jsx)(M.a,{onClick:l,children:"\u91cd\u7f6e"})]})]})}),Object(n.jsx)("div",{className:"wrapper",children:i.data.wait.length>0||i.data.process.length>0||i.data.finished.length>0||i.data.unfinished.length>0?Object(n.jsx)(Qe.a,{gutter:24,children:Object.keys(i.data).map((function(e){return Object(n.jsxs)($e.a,{span:6,children:[Object(n.jsx)("div",{className:"tac",children:Object(n.jsx)(Ue.a,{color:Et[e].color,children:Et[e].text})}),i.data[e].map((function(e){return Object(n.jsx)(wt,{data:e,reloadData:s},e.id)}))]},e)}))}):Object(n.jsx)(gt,{message:"\u8fd8\u6ca1\u6709\u5f85\u529e\u4e8b\u9879\uff0c\u662f\u5426\u9a6c\u4e0a\u521b\u5efa\uff1f",onClick:u})}),Object(n.jsx)(It,{visible:i.showCreateTaskModal,onSuccess:function(){u(),s()},onCancel:u})]})},St=(a(481),a(256)),Lt="\u65e0\u6807\u9898",Ft=function(e){var t=e.history,a=Object(c.useState)([]),r=Object(y.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(!0),l=Object(y.a)(s,2),u=l[0],d=l[1];function j(e,a,n){null===n||void 0===n||n.stopPropagation(),null===n||void 0===n||n.preventDefault(),0!==e?2!==e?t.push("/home/memorandum/update/".concat(a.id)):t.push("/home/memorandum/create"):Object(F.i)(a.id).then((function(){m()}))}function m(){Object(F.q)().then((function(e){if(e.data.success){var t=e.data.data.map((function(e){return e.createdAt=je()(e.createdAt).format("YYYY/M/D HH:mm"),e.title=e.title||Lt,e}));o(t)}})).finally((function(){return d(!1)}))}return Object(c.useEffect)((function(){m()}),[]),Object(n.jsx)(St.a,{spinning:u,children:Object(n.jsx)("div",{className:"memorandum",children:i.length>0?Object(n.jsx)(Qe.a,{gutter:16,align:"bottom",children:i.map((function(e){return Object(n.jsx)($e.a,{span:8,children:Object(n.jsx)(ie.b,{to:"/home/memorandum/detail/".concat(e.id),children:Object(n.jsxs)(lt.a,{title:e.title,hoverable:!0,children:[e.createdAt,Object(n.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:e.html}}),Object(n.jsxs)("div",{className:"button-group",children:[Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(t){null===t||void 0===t||t.stopPropagation(),j(0,e)},placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{size:"small",children:"\u5220\u9664"})}),Object(n.jsx)(M.a,{size:"small",onClick:j.bind(null,1,e),children:"\u7f16\u8f91"})]})]})})},e.id)}))}):Object(n.jsx)(gt,{message:"\u8fd8\u6ca1\u6709\u5907\u5fd8\u5f55\uff0c\u662f\u5426\u9a6c\u4e0a\u521b\u5efa\uff1f",onClick:j.bind(null,2,null)})})})},Rt=(a(482),a(263)),_t=a.n(Rt),Yt=function(e){var t=e.history,a=e.computedMatch,r=Object(c.useState)(Lt),i=Object(y.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(!1),u=Object(y.a)(l,2),d=u[0],j=u[1],m=Object(c.useCallback)((function(e){if(0!==e){var n=a.params.id;if(!d){var c={markdown:J.getValue(),title:o};c.markdown?(j(!0),(n?Object(F.E)(n,c):Object(F.c)(c)).then((function(e){e.data.success&&t.replace(f.a.MEMORANDUM.path)}))):E.b.warn("\u5b9e\u4f53\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")}}else t.replace(f.a.MEMORANDUM.path)}),[t,o,d,a]),b=Object(c.useCallback)((function(){var e=a.params.id;J=new _t.a({el:document.querySelector("#edit-section"),initialEditType:"markdown",previewStyle:"vertical",usageStatistics:!1}),e&&Object(F.r)(e).then((function(e){e.data.success&&(s(e.data.data.title),J.setValue(e.data.data.markdown))}))}),[a]);return Object(c.useEffect)((function(){return b(),function(){var e;null===(e=J)||void 0===e||e.remove()}}),[b]),Object(n.jsxs)("div",{className:"editor-page",children:[Object(n.jsx)(D.a,{className:"input-title",placeholder:Lt,maxLength:50,size:"large",value:o,onChange:function(e){return s(e.target.value)},onBlur:function(){return!o&&s(Lt)}}),Object(n.jsx)("div",{id:"edit-section"}),Object(n.jsxs)("div",{className:"button-group",children:[Object(n.jsx)(M.a,{onClick:m.bind(null,0),children:"\u53d6\u6d88"}),Object(n.jsx)(M.a,{type:"primary",onClick:m.bind(null,1),loading:d,children:"\u63d0\u4ea4"})]})]})},qt=(a(730),a(777)),Ht=a(778),Ut=function(e){var t=e.computedMatch,a=e.history,r=Object(c.useState)(""),i=Object(y.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(""),u=Object(y.a)(l,2),d=u[0],j=u[1],m=Object(c.useState)(!0),b=Object(y.a)(m,2),h=b[0],f=b[1],O=t.params.id;return Object(c.useEffect)((function(){Object(F.r)(O).then((function(e){if(e.data.success){var t=e.data.data.title||Lt;document.title=t,s(t),j(e.data.data.html)}})).finally((function(){return f(!1)}))}),[O]),Object(n.jsx)(St.a,{spinning:h,children:Object(n.jsxs)("div",{className:"memorandum-detail",children:[Object(n.jsxs)("div",{className:"tool-bar",children:[Object(n.jsx)(qt.a,{className:"icon-left",onClick:a.goBack}),Object(n.jsx)(ie.b,{className:"edit",to:"/home/memorandum/update/".concat(O),children:Object(n.jsx)(Ht.a,{title:"\u7f16\u8f91"})})]}),Object(n.jsx)("h1",{className:"title",children:o}),Object(n.jsx)("div",{className:"markdown-body tui-editor-contents",dangerouslySetInnerHTML:{__html:d}})]})})},zt=(a(731),"YYYY-MM-DD HH:mm:ss"),Pt=D.a.TextArea,Vt=He.a.Option,Gt={labelCol:{span:4},wrapperCol:{span:20}},Kt={confirmLoading:!1},Bt=function(e){var t=e.visible,a=e.onCancel,r=e.onSuccess,i=e.rowData,o=e.nameList,s=k.a.useForm(),u=Object(y.a)(s,1)[0],d=Object(Me.a)(Kt),j=Object(y.a)(d,2),m=j[0],b=j[1];function h(){return(h=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.validateFields();case 3:n=e.sent,c={date:n.date.format(zt),remarks:null!==(t=null===(a=n.remarks)||void 0===a?void 0:a.trim())&&void 0!==t?t:"",typeId:n.typeId,price:Number(n.price)},b({confirmLoading:!0}),(i?Object(F.B)(i.id,c):Object(F.a)(c)).then((function(e){e.data.success&&r(e)})).finally((function(){b({confirmLoading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t&&i&&u.setFieldsValue({date:je()(i.createdAt),remarks:i.remarks,typeId:i.typeId,price:i.price})}),[t,i]),Object(c.useEffect)((function(){t||u.resetFields()}),[t]),Object(n.jsx)(Se.a,{title:"\u65b0\u589e",visible:t,onOk:function(){return h.apply(this,arguments)},onCancel:a,confirmLoading:m.confirmLoading,forceRender:!0,children:Object(n.jsxs)(k.a,Object(l.a)(Object(l.a)({form:u},Gt),{},{children:[Object(n.jsx)(k.a.Item,{label:"\u5165\u8d26\u65f6\u95f4",name:"date",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}],children:Object(n.jsx)(Le.a,{showTime:!0,allowClear:!1,style:{width:"100%"}})}),Object(n.jsx)(k.a.Item,{label:"\u8d22\u52a1\u7c7b\u522b",name:"typeId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u522b"}],children:Object(n.jsx)(He.a,{children:o.map((function(e){return Object(n.jsx)(Vt,{value:e.id,children:e.optionName},e.id)}))})}),Object(n.jsx)(k.a.Item,{label:"\u6536\u652f\u91d1\u989d",name:"price",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u91d1\u989d"}],children:Object(n.jsx)(D.a,{placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",prefix:"\uffe5"})}),Object(n.jsx)(k.a.Item,{label:"\u5907\u6ce8\u4fe1\u606f",name:"remarks",children:Object(n.jsx)(Pt,{rows:5,maxLength:250})})]}))})},Wt=r.a.memo(Bt);!function(e){e[e["\u6536\u5165"]=1]="\u6536\u5165",e[e["\u652f\u51fa"]=2]="\u652f\u51fa"}(Z||(Z={})),function(e){e[e["#108ee9"]=1]="#108ee9",e[e["#f50"]=2]="#f50"}(Q||(Q={}));var Xt=[{name:"\u6536\u5165",value:1,symbol:"+",color:"#666"},{name:"\u652f\u51fa",value:2,symbol:"-",color:"#f50"}],Jt=[{name:"\u5168\u90e8",value:""}].concat(Xt),Zt=D.a.Search,Qt=Le.a.RangePicker,$t=He.a.Option,ea="YYYY-MM-DD",ta={showCreateCapitalFlowModal:!1,currentRow:null,nameList:[],price:{consumption:0,income:0,available:0},sortedInfo:null,filters:{}},aa=function(){var e,t,a,r=k.a.useForm(),i=Object(y.a)(r,1)[0],o=Object(Me.a)(ta),s=Object(y.a)(o,2),u=s[0],d=s[1],j=Object(c.useRef)(),m=[{title:"\u5165\u8d26\u65f6\u95f4",dataIndex:"createdAt",width:180,sorter:!0,sortOrder:"createdAt"===(null===(e=u.sortedInfo)||void 0===e?void 0:e.field)&&u.sortedInfo.order},{title:"\u8d26\u52a1\u7c7b\u578b",dataIndex:"name",width:120},{title:"\u6536\u652f\u91d1\u989d\uff08\u5143\uff09",width:140,sorter:!0,dataIndex:"price",sortOrder:"price"===(null===(t=u.sortedInfo)||void 0===t?void 0:t.field)&&u.sortedInfo.order,filters:[{text:"\u9690\u85cf\u91d1\u989d",value:!1}],render:function(e,t){return Object(n.jsx)("span",{style:{color:t.__color__},children:u.filters.price&&u.filters.price[0]?"******":t.__price__})}},{title:"\u5907\u6ce8\u4fe1\u606f",render:function(e){return Object(n.jsx)("p",{className:"wspw",children:e.remarks})}},{title:"\u64cd\u4f5c",width:180,align:"right",fixed:"right",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{onClick:f.bind(null,0,e),children:"\u7f16\u8f91"}),Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:f.bind(null,1,e),placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{children:"\u5220\u9664"})})]})}}];function b(e){var t=je()().startOf("month"),a=je()().endOf("month");d({sortedInfo:null}),i.setFieldsValue({keyword:"",name:"",date:[t,a]}),!1!==e&&j.current.getTableData()}function h(){return(h=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.validateFields();case 3:return n=e.sent,t=Object(l.a)(Object(l.a)({},t),{},{keyword:n.keyword,typeNameId:n.name,type:n.type,startDate:n.date[0].format(ea),endDate:n.date[1].format(ea)}),(null===(a=u.sortedInfo)||void 0===a?void 0:a.order)&&(t.sort="".concat(u.sortedInfo.field,"-").concat(u.sortedInfo.order.replace("end",""))),e.abrupt("return",Object(F.m)(t).then((function(e){if(e.data.success){var t=e.data.data;e.data.data.rows=e.data.data.rows.map((function(e,t){return e.order=t+1,e.createdAt=je()(e.createdAt).format("YYYY-MM-DD HH:mm"),e.__price__=Xt[e.type-1].symbol+e.price,e.__color__=Xt[e.type-1].color,e})),d({price:{income:t.income,consumption:t.consumption,available:t.available}})}return e})));case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(e,t){0===e?d({showCreateCapitalFlowModal:!0,currentRow:t}):Object(F.g)(t.id).then((function(e){e.data.success&&j.current.getTableData()}))}function O(e){var t,a=i.getFieldValue("date"),n=Object(y.a)(a,1)[0],c=[je()(je()().format(ea),ea),je()(je()().format(ea),ea)];switch(e){case 2:var r=je()(je()().subtract(1,"days").format(ea),ea);c[0]=r,c[1]=r;break;case 3:c[0]=je()(je()().subtract(7,"days").format(ea),ea),c[1]=je()(new Date,ea);break;case 4:c[0]=je()(je()(n).subtract(1,"month").startOf("month").format(ea),ea),c[1]=je()(je()(n).subtract(1,"month").endOf("month").format(ea),ea);break;case 5:c[0]=je()(je()(n).add(1,"month").startOf("month").format(ea),ea),c[1]=je()(je()(n).add(1,"month").endOf("month").format(ea),ea)}i.setFieldsValue({date:c}),null===(t=j.current)||void 0===t||t.getTableData()}return Object(c.useEffect)((function(){b(!1),Object(F.o)().then((function(e){if(e.data.success){var t=e.data.data.map((function(e){return e.optionName="".concat(Z[e.type]," - ").concat(e.name),e})).sort((function(e,t){return e.type-t.type}));d({nameList:t})}}))}),[]),Object(c.useEffect)((function(){var e;i.getFieldValue("date").length<=0||null===j||void 0===j||null===(e=j.current)||void 0===e||e.getTableData()}),[]),Object(n.jsxs)("div",{className:"capital-flow",children:[Object(n.jsxs)("div",{className:"query-panel",children:[Object(n.jsxs)(k.a,{form:i,layout:"inline",children:[Object(n.jsx)(k.a.Item,{label:"\u8d26\u52a1\u7c7b\u578b",name:"name",initialValue:"",children:Object(n.jsxs)(He.a,{children:[Object(n.jsx)($t,{value:"",children:"\u5168\u90e8"}),u.nameList.map((function(e){return Object(n.jsx)($t,{value:e.id,children:e.name},e.id)}))]})}),!i.getFieldValue("name")&&Object(n.jsx)(k.a.Item,{label:"\u6536\u652f\u7c7b\u522b",name:"type",initialValue:"",children:Object(n.jsx)(He.a,{children:Jt.map((function(e){return Object(n.jsx)($t,{value:e.value,children:e.name},e.value)}))})}),Object(n.jsx)(k.a.Item,{label:"",name:"keyword",initialValue:"",children:Object(n.jsx)(Zt,{placeholder:"\u8bd5\u8bd5\u641c\u7d22\u5907\u6ce8",maxLength:300,onSearch:function(){return j.current.getTableData()},style:{width:260}})}),Object(n.jsx)(M.a,{type:"primary",onClick:null===(a=j.current)||void 0===a?void 0:a.getTableData,children:"\u67e5\u8be2"}),Object(n.jsx)(M.a,{onClick:function(){return b()},children:"\u91cd\u7f6e"})]}),Object(n.jsxs)(k.a,{form:i,layout:"inline",style:{marginTop:10},onValuesChange:function(){var e;return null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.getTableData()},children:[Object(n.jsx)(k.a.Item,{label:"\u65e5\u671f",name:"date",initialValue:[],children:Object(n.jsx)(Qt,{})}),Object(n.jsx)(M.a,{onClick:O.bind(null,1),children:"\u4eca\u5929"}),Object(n.jsx)(M.a,{onClick:O.bind(null,2),children:"\u6628\u5929"}),Object(n.jsx)(M.a,{onClick:O.bind(null,3),children:"\u6700\u8fd1\u4e00\u5468"}),Object(n.jsx)(M.a,{onClick:O.bind(null,4),children:"\u4e0a\u4e2a\u6708"}),Object(n.jsx)(M.a,{onClick:O.bind(null,5),children:"\u4e0b\u4e2a\u6708"})]}),Object(n.jsxs)("div",{className:"poly",children:[Object(n.jsxs)("div",{className:"item-price",children:[Object(n.jsx)("em",{children:"\u6536\u5165\uff1a\uffe5"}),Object(n.jsx)(et.a,{value:u.price.income,precision:2})]}),Object(n.jsxs)("div",{className:"item-price",children:[Object(n.jsx)("em",{children:"\u652f\u51fa\uff1a\uffe5"}),Object(n.jsx)(et.a,{value:u.price.consumption,precision:2})]}),Object(n.jsxs)("div",{className:"item-price",children:[Object(n.jsx)("em",{children:"\u5b9e\u9645\u6536\u5165\uff1a\uffe5"}),Object(n.jsx)(et.a,{value:u.price.available,precision:2})]})]})]}),Object(n.jsx)(De.a,{ref:j,getTableData:function(e){return h.apply(this,arguments)},columns:m,onTableChange:function(e,t,a){d({sortedInfo:{field:a.field,order:a.order},filters:t})},onDelete:F.g,onAdd:function(){return d({showCreateCapitalFlowModal:!0,currentRow:null})}}),Object(n.jsx)(Wt,{visible:u.showCreateCapitalFlowModal,rowData:u.currentRow,nameList:u.nameList,onCancel:function(){return d({showCreateCapitalFlowModal:!1})},onSuccess:function(){d({showCreateCapitalFlowModal:!1}),j.current.getTableData()}})]})},na=(a(732),He.a.Option),ca={confirmLoading:!1},ra=function(e){var t=e.visible,a=e.rowData,r=e.onCancel,i=e.onSuccess,o=k.a.useForm(),s=Object(y.a)(o,1)[0],l=Object(Me.a)(ca),u=Object(y.a)(l,2),d=u[0],j=u[1];function m(){return(m=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.validateFields();case 3:t=e.sent,n={type:t.type,name:t.name.trim()},j({confirmLoading:!0}),(a?Object(F.C)(a.id,n):Object(F.b)(n)).then((function(e){e.data.success&&i(e.data.data)})).finally((function(){j({confirmLoading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t&&a&&s.setFieldsValue({name:a.name,type:a.type})}),[t,a]),Object(c.useEffect)((function(){t||s.resetFields()}),[t]),Object(n.jsx)(Se.a,{title:"\u65b0\u589e\u7c7b\u522b",visible:t,onOk:function(){return m.apply(this,arguments)},onCancel:r,confirmLoading:d.confirmLoading,forceRender:!0,children:Object(n.jsxs)(k.a,{form:s,children:[Object(n.jsx)(k.a.Item,{label:"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0"}],children:Object(n.jsx)(D.a,{maxLength:20,placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0"})}),Object(n.jsx)(k.a.Item,{label:"\u7c7b\u578b",name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}],children:Object(n.jsx)(He.a,{children:Xt.map((function(e){return Object(n.jsx)(na,{value:e.value,children:e.name},e.value)}))})})]})})},ia=r.a.memo(ra),oa=a(743),sa={showCreateTypeModal:!1,selectedRowKeys:[],loading:!1,data:[],rowData:null},la=function(){var e=Object(Me.a)(sa),t=Object(y.a)(e,2),a=t[0],r=t[1],i=[{title:"\u8d26\u52a1\u7c7b\u578b",dataIndex:"name"},{title:"\u6536\u652f\u7c7b\u522b",render:function(e){return Object(n.jsx)(Ue.a,{color:e.color,children:e.typeName})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt"},{title:"\u64cd\u4f5c",render:function(e){return Object(n.jsx)(M.a,{onClick:s.bind(null,e),children:"\u7f16\u8f91"})}}];function o(){Object(F.o)().then((function(e){if(e.data.success){var t=e.data.data.map((function(e){return e.typeName=Z[e.type],e.color=Q[e.type],e.createdAt=je()(e.createdAt).format("YYYY-MM-DD hh:mm"),e}));r({data:t})}}))}function s(e){r({showCreateTypeModal:!0,rowData:e})}Object(c.useEffect)((function(){o()}),[]);var l={selectedRowKeys:a.selectedRowKeys,onChange:function(e){r({selectedRowKeys:e})}};return Object(n.jsxs)("div",{className:"capital-flow-type",children:[Object(n.jsxs)("div",{className:"button-group",children:[Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){var e=a.selectedRowKeys.join();e&&(r({loading:!0}),Object(F.h)(e).then((function(){o()})).finally((function(){r({loading:!1})})))},placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{type:"primary",danger:!0,children:"\u5220\u9664"})}),Object(n.jsx)(M.a,{type:"primary",onClick:function(){r({showCreateTypeModal:!0,rowData:null})},children:"\u65b0\u589e"})]}),Object(n.jsx)(oa.a,{rowSelection:l,columns:i,dataSource:a.data,pagination:!1,rowKey:"id",loading:a.loading}),Object(n.jsx)(ia,{visible:a.showCreateTypeModal,rowData:a.rowData,onCancel:function(){return r({showCreateTypeModal:!1})},onSuccess:function(){r({showCreateTypeModal:!1}),o()}})]})},ua=D.a.TextArea,da={confirmLoading:!1,content:""},ja=function(e){var t=e.visible,a=e.onSuccess,r=e.onCancel,i=e.rowData,o=k.a.useForm(),s=Object(y.a)(o,1)[0],l=Object(Me.a)(da),u=Object(y.a)(l,2),d=u[0],j=u[1];function m(){return(m=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.validateFields();case 3:t=e.sent,n={content:t.content.trim()},(i?Object(F.H)(i.id,n):Object(F.f)(n)).then((function(e){e.data.success&&a()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t&&i&&s.setFieldsValue({content:i.content})}),[t,i]),Object(c.useEffect)((function(){t||s.resetFields()}),[t]),Object(n.jsx)(Se.a,{title:"\u65b0\u589e",visible:t,onOk:function(){return m.apply(this,arguments)},onCancel:r,confirmLoading:d.confirmLoading,forceRender:!0,children:Object(n.jsx)(k.a,{form:s,children:Object(n.jsx)(k.a.Item,{label:"\u6d3b\u52a8\u5185\u5bb9",name:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}],children:Object(n.jsx)(ua,{rows:3,value:d.content,onChange:function(e){return j({content:e.target.value})},maxLength:250,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})})})})},ma=r.a.memo(ja),ba={1:{text:"\u8fdb\u884c\u4e2d",color:"volcano"},2:{text:"\u5df2\u5b8c\u6210",color:"#2db7f5"}},ha=Le.a.RangePicker,fa="YYYY-MM-DD",Oa={showCreateTodoModal:!1,currentRowData:null},pa=function(){var e=k.a.useForm(),t=Object(y.a)(e,1)[0],a=Object(Me.a)(Oa),r=Object(y.a)(a,2),i=r[0],o=r[1],s=Object(c.useRef)(),l=[{title:"\u72b6\u6001",dataIndex:"status",width:90,render:function(e){return Object(n.jsx)(Ue.a,{color:ba[e].color,children:ba[e].text})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt",width:170},{title:"\u6d3b\u52a8\u5185\u5bb9",dataIndex:"content",className:"wbba"},{title:"\u64cd\u4f5c",width:250,align:"right",fixed:"right",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{onClick:j.bind(null,0,e),children:"\u7f16\u8f91"}),Object(n.jsx)(ze.a,{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:j.bind(null,1,e),placement:"bottomLeft",okType:"danger",children:Object(n.jsx)(M.a,{children:"\u5220\u9664"})}),Object(n.jsx)(M.a,{onClick:j.bind(null,2,e),disabled:2===e.status,children:"\u5b8c\u6210"})]})}}];function u(){var e,a=je()().startOf("year"),n=je()().endOf("year");t.setFieldsValue({date:[a,n]}),null===s||void 0===s||null===(e=s.current)||void 0===e||e.getTableData()}function d(){o({showCreateTodoModal:!i.showCreateTodoModal})}function j(e,t){switch(e){case 0:o({showCreateTodoModal:!0,currentRowData:t});break;case 1:Object(F.l)(t.id).then((function(e){e.data.success&&s.current.getTableData()}));break;case 2:Object(F.H)(t.id,{status:2}).then((function(e){e.data.success&&s.current.getTableData()}))}}return Object(c.useEffect)((function(){u()}),[]),Object(n.jsxs)("div",{className:"today-task",children:[Object(n.jsx)("div",{className:"query-panel",children:Object(n.jsxs)(k.a,{form:t,layout:"inline",onValuesChange:function(){var e;return null===s||void 0===s||null===(e=s.current)||void 0===e?void 0:e.getTableData()},children:[Object(n.jsx)(k.a.Item,{name:"date",label:"\u67e5\u8be2\u65e5\u671f",children:Object(n.jsx)(ha,{allowClear:!0})}),Object(n.jsxs)(k.a.Item,{children:[Object(n.jsx)(M.a,{type:"primary",onClick:function(){s.current.getTableData()},children:"\u67e5\u8be2"}),Object(n.jsx)(M.a,{onClick:u,children:"\u91cd\u7f6e"})]})]})}),Object(n.jsx)(De.a,{ref:s,getTableData:function(e){var a=t.getFieldsValue();return a.date&&2===a.date.length&&(e.startDate=a.date[0].format(fa),e.endDate=a.date[1].format(fa)),Object(F.w)(e).then((function(e){return e.data.data.rows.map((function(e){return e.createdAt=je()(e.createdAt).format("YYYY-MM-DD HH:mm"),e})),e}))},columns:l,onDelete:F.l,onAdd:function(){return o({showCreateTodoModal:!0,currentRowData:null})}}),Object(n.jsx)(ma,{visible:i.showCreateTodoModal,onSuccess:function(){d(),s.current.getTableData()},onCancel:d,rowData:i.currentRowData})]})},xa=[{path:f.a.LOGIN.path,exact:!0,component:$,meta:{requiresAuth:!1,title:f.a.LOGIN.name,isLoginToHome:!0}},{path:f.a.HOME.path,component:Ee,meta:{requiresAuth:!0},childrenRoutes:[{path:f.a.HOME_INDEX.path,component:Ot,exact:!0,meta:{title:f.a.HOME_INDEX.name,requiresAuth:!0}},{path:f.a.REMINDER.path,component:We,exact:!0,meta:{title:f.a.REMINDER.name,requiresAuth:!0}},{path:f.a.SETTING_INDEX.path,component:Ze,meta:{title:f.a.SETTING_INDEX.name,requiresAuth:!0}},{path:f.a.TODAY_TASK.path,component:Mt,meta:{title:f.a.TODAY_TASK.name,requiresAuth:!0}},{path:f.a.MEMORANDUM.path,component:Ft,exact:!0,meta:{title:f.a.MEMORANDUM.name,requiresAuth:!0}},{path:f.a.MEMORANDUM_CREATE.path,component:Yt,exact:!0,meta:{title:f.a.MEMORANDUM_CREATE.name,requiresAuth:!0}},{path:f.a.MEMORANDUM_DETAIL.path,component:Ut,exact:!0,meta:{title:f.a.MEMORANDUM_DETAIL.name,requiresAuth:!0}},{path:f.a.CAPITAL_FLOW.path,component:aa,exact:!0,meta:{title:f.a.CAPITAL_FLOW.name,requiresAuth:!0}},{path:f.a.CAPITAL_FLOW_TYPE.path,component:la,exact:!0,meta:{title:f.a.CAPITAL_FLOW_TYPE.name,requiresAuth:!0}},{path:f.a.TODO_LIST.path,component:pa,exact:!0,meta:{title:f.a.TODO_LIST.name,requiresAuth:!0}},{path:f.a.NO_MATCH.path,component:ne,meta:{requiresAuth:!0,title:f.a.NO_MATCH.name}}]},{path:f.a.NO_MATCH.path,component:ne,meta:{requiresAuth:!1,title:f.a.NO_MATCH.name}}],ga=Object(c.lazy)((function(){return a.e(3).then(a.bind(null,787))})),va=Object(c.lazy)((function(){return a.e(5).then(a.bind(null,784))})),ya=Object(c.lazy)((function(){return a.e(4).then(a.bind(null,786))})),wa=Object(c.lazy)((function(){return a.e(6).then(a.bind(null,785))})),Ca=[{path:f.b.BASE.path,component:ga,meta:{requiresAuth:!0,title:f.b.BASE.name}},{path:f.b.INNER_MESSAGE.path,component:va,meta:{requiresAuth:!0,title:f.b.INNER_MESSAGE.name}},{path:f.b.NOTIFICATION.path,component:ya,meta:{requiresAuth:!0,title:f.b.NOTIFICATION.name}},{path:f.b.ACCOUNT.path,component:wa,meta:{requiresAuth:!0,title:f.b.ACCOUNT.name}}],Na=xa,Ta=Object(h.b)()((function(e){return(0,e.dispatch)(Object(he.e)()),Object(n.jsx)(ie.a,{basename:d.a.baseURL,children:Object(n.jsx)(b.d,{children:Na.map((function(e,t){return Object(c.createElement)(p,Object(l.a)(Object(l.a)({},e),{},{key:t}))}))})})})),Aa=a(14),Ia=a(264),ka=a.n(Ia),Ea=(a(733),a(169));je.a.locale("zh-cn"),o.a.render(Object(n.jsx)(h.a,{store:Ea.a,children:Object(n.jsx)(Aa.a,{locale:ka.a,children:Object(n.jsx)(Ta,{})})}),document.getElementById("tomato-work-root")),s()},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n={BASE:{name:"\u4e2a\u4eba\u4e2d\u5fc3",path:"/home/setting/base"},INNER_MESSAGE:{name:"\u6d88\u606f\u4e2d\u5fc3",path:"/home/setting/innerMessage"},NOTIFICATION:{name:"\u6d88\u606f\u901a\u77e5",path:"/home/setting/notification"},ACCOUNT:{name:"\u8d26\u53f7\u8bbe\u7f6e",path:"/home/setting/account"}},c={LOGIN:{name:"\u767b\u5f55",path:["/","/login"]},HOME:{name:"",path:"/home"},HOME_INDEX:{name:"\u540e\u53f0\u9996\u9875",path:"/home/index"},REMINDER:{name:"\u63d0\u9192\u4e8b\u9879",path:"/home/reminder"},SETTING_INDEX:{name:"\u4e2a\u4eba\u4e2d\u5fc3",path:"/home/setting"},TODAY_TASK:{name:"\u4eca\u65e5\u5f85\u529e",path:"/home/todayTask"},MEMORANDUM:{name:"\u5907\u5fd8\u5f55\u5217\u8868",path:"/home/memorandum"},MEMORANDUM_CREATE:{name:"\u5907\u5fd8\u5f55\u521b\u5efa",path:["/home/memorandum/create","/home/memorandum/update/:id"]},MEMORANDUM_DETAIL:{name:"*",path:"/home/memorandum/detail/:id"},CAPITAL_FLOW:{name:"\u8d44\u91d1\u6d41\u52a8",path:"/home/capitalFlow"},CAPITAL_FLOW_TYPE:{name:"\u521b\u5efa\u7c7b\u522b",path:"/home/capitalFlow/type"},TODO_LIST:{name:"\u6d3b\u52a8\u6e05\u5355",path:"/home/todoList"},NO_MATCH:{name:"404 Not Found",path:"*"}}},93:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},c={INFO:"INFO"}}},[[738,1,2]]]);
//# sourceMappingURL=main.7d882955.chunk.js.map